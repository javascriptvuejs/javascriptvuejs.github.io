<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.7.1 -->
<title>뷰 HTTP 통신 | Web Developer from Vue.js</title>
<meta name="generator" content="Jekyll v4.2.0" />
<meta property="og:title" content="뷰 HTTP 통신" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="HTTP 통신" />
<meta property="og:description" content="HTTP 통신" />
<link rel="canonical" href="https://javascriptvuejs.github.io//2021/01/14/http.html" />
<meta property="og:url" content="https://javascriptvuejs.github.io//2021/01/14/http.html" />
<meta property="og:site_name" content="Web Developer from Vue.js" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-01-14T00:00:00+09:00" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="뷰 HTTP 통신" />
<script type="application/ld+json">
{"headline":"뷰 HTTP 통신","dateModified":"2021-01-14T00:00:00+09:00","datePublished":"2021-01-14T00:00:00+09:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://javascriptvuejs.github.io//2021/01/14/http.html"},"@type":"BlogPosting","url":"https://javascriptvuejs.github.io//2021/01/14/http.html","description":"HTTP 통신","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/assets/main.css"><link type="application/atom+xml" rel="alternate" href="https://javascriptvuejs.github.io//feed.xml" title="Web Developer from Vue.js" /></head>
<body><header class="site-header" role="banner">

  <div class="wrapper"><a class="site-title" rel="author" href="/">Web Developer from Vue.js</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/about/">About</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">뷰 HTTP 통신</h1>
    <p class="post-meta">
      <time class="dt-published" datetime="2021-01-14T00:00:00+09:00" itemprop="datePublished">Jan 14, 2021
      </time></p>
  </header>

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="http-통신">HTTP 통신</h1>

<p>HTTP는 브라우저와 서버 간에 데이터를 주고받는 통신 프로토콜(protocol)입니다. 브라우저에서 특정 데이터를 보내달라고 요청(request)을 보내면 서버에서 응답(response)으로 해당 데이터를 보내주는 방식으로 동작합니다.</p>

<blockquote>
  <p><strong>프로토콜</strong>: 컴퓨터나 단말기 간에 통신하기 위해 상호간에 정의한 규칙</p>
</blockquote>

<p>HTTP 통신의 대표적인 사례로는 ajax가 있습니다. ajax는 서버에서 받아온 데이터를 표시할 때 화면 전체를 갱신하지 않고도 화면의 일부분만 변경할 수 있게 하는 자바스크립트 기법입니다. 뷰에서도 ajax 지원하기 위한 라이브러리를 제공합니다. 뷰 프레임워크의 필수 라이브러리로 관리하던 뷰 리소스와 요즘 가장 많이 사용하는 엑시오스(axiox)가 있습니다.</p>

<hr />

<h1 id="뷰-리소스">뷰 리소스</h1>

<p>뷰 리소스는 초기에 코어 팀에서 공식적으로 권하는 라이브러리였으나 2016년 말에 공식적인 지원을 중단하기로 결정하였습니다. 그 이유는 HTTP 통신 관련 라이브러리는 뷰 라우팅, 상태 관리와 같은 라이브러리와는 다르게 프레임워크의 필수적인 기능이 아니라고 판단했기 때문입니다.</p>

<p>그럼에도 불구하고 뷰 리소스는 현재 계속 사용되고 있는 라이브러리입니다.</p>

<p>뷰 리소스를 사용하는 방법은 뷰 코어 라이브러리 외에 라우터 처럼 CDN을 이용해서 라이브러리를 로딩하는 방식과 NPM으로 라이브러리를 설치하는 방법(ES6 기준)이 있습니다.</p>

<h2 id="뷰-리소스-데이터">뷰 리소스 데이터</h2>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html&gt;</span>
<span class="nt">&lt;head&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">"UTF-8"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">"viewport"</span> <span class="na">content=</span><span class="s">"width=device-width, initial-scale=1.0"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;title&gt;</span>Vue Resource Sample<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;/head&gt;</span>
<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
       <span class="nt">&lt;button</span> <span class="na">v-on:click=</span><span class="s">"getData"</span><span class="nt">&gt;</span>프레임워크 목록 가져오기<span class="nt">&lt;/button&gt;</span>
    <span class="nt">&lt;/div&gt;</span>

    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/vue-resource@1.3.4"</span><span class="nt">&gt;&lt;/script&gt;</span>
    <span class="nt">&lt;script&gt;</span>
        <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
            <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">getData</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                    <span class="k">this</span><span class="p">.</span><span class="nx">$http</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
                        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="nx">response</span><span class="p">.</span><span class="nx">data</span><span class="p">));</span>
                    <span class="p">});</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">});</span>
    <span class="nt">&lt;/script&gt;</span>
<span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>위 코드는 버튼을 클릭하면 지정한 URL의 데이터를 가져옵니다. 여기서 불러오는 데이터는 JSON 형식의 간단한 파일이며 ‘키 - 쌍’ 조합입니다.</p>

<ol>
  <li>인스턴스 영역 안인 <code class="language-plaintext highlighter-rouge">&lt;div&gt;</code> 태그 안에 <code class="language-plaintext highlighter-rouge">&lt;button&gt;</code> 태그를 추가합니다. 그리고 v-on:click을 이용하여 버튼을 클릭했을 때 getData()가 호출되도록 클릭 이벤트를 설정합니다.</li>
  <li>getData()에는 뷰 리소스에서 제공하는 API인 this.$http.get()을 사용하여 해당 URL에서 제공하는 데이터를 받아옵니다. API 이름에서 유츄할 수 있듯이 this.$http.get()은 HTTP GET 요청을 서버에 보내고 특정 데이터를 받아옵니다.</li>
  <li>해당 URL로 HTTP GET 요청을 보내고 나면 .then() 안에서 응답을 받은 데이터 response를 콘솔에 출력합니다.</li>
</ol>

<p>화면에서 [프레임워크 목록 가져오기] 버튼을 클릭하면 ‘Console’ 패널에 response 객체의 값과 response 객체의 data를 JSON 객체에 담아 출력합니다. 첫 번째 로그는 response 객체의 내용입니다. response 객체에는 HTTP GET 요청을 할 때 넣었던 사이트의 URL도 포함되어 있습니다. 두 번째 로그는 응답 데이터의 body 값이 들어있습니다. body 값은 문자열이기 때문에 JSON.parse() 자바스크립트 API를 이용하여 JSON 객체로 보기 쉽게 변환하였습니다.</p>

<hr />

<h1 id="액시오스">액시오스</h1>

<p>액시오스(Axios)는 현재 뷰 커뮤니티에서 가장 많이 사용하는 HTTP통신 라이브러리입니다. 에반 뷰도 뷰 리소스를 공식 라이브러리에서 제외하면서 액시오스를 언급했습니다. 그 만큼 많은 개발자들이 관심을 가지고 사용하는 라이브러리입니다.</p>

<p>또한 액시오스는 Promise 기반의 API 형식이 다양하게 제공되어 별도의 로직을 구현할 필요 없이 주어진 API만으로도 간편하게 원하는 로직을 구현할 수 있습니다.</p>

<h3 id="promise-기반의-api">Promise 기반의 API</h3>

<p>Promise란 서버에 데이터를 요청하여 받아오는 동작과 같은 비동기 로직 처리에 유용한 자바스크립트 객체입니다. 자바스크립는 단일 스레드(thread)로 코드를 처리하기 때문에 특정 로직의 처리가 끝날 때까지 기다려주지 않습니다. 즉, Callback 함수로 인해 코드의 복잡성이 증가하고 가독성이 떨어지는 경우가 종종 생깁니다. 흔히 Callback Hell이라고 부르는 현상인데, Callback 함수가 그 값을 가지고 Callback을 다시 호출하고, 그 값으로 또 다시 Callback을 계속 호출하게 되면서 발생합니다. 따라서 데이터를 요청하고 받아올 때까지 기다렸다가 화면에 나타내는 로직을 실행해야 할 때 주로 Promise를 활용합니다. 그리고 데이터를 받아왔을 때 Promise로 데이터를 화면에 표시하거나 연산을 수행하는 등 특정 로직을 수행합니다.</p>

<p>데이터 통신과 관련한 여러 라이브러리 대부분에서 Promise를 활용하고 있으며, 액시오스에서도 Promise 기반의 API를 지원합니다.</p>

<h2 id="액시오스-설치-및-사용">액시오스 설치 및 사용</h2>

<p>액시오스 설치와 사용법은 뷰 리소스와 거의 동일합니다. CDN을 이용하여 로딩하는 방법과 NPM을 이용하여 설치하는 방법(ES6 기준)이 있습니다.</p>

<h3 id="엑시오스-cdn">엑시오스 CDN</h3>

<p><code class="language-plaintext highlighter-rouge">&lt;script src="https://unpkg.com/axios/dist/axios.min.js"&gt;&lt;script&gt;</code></p>

<p>위 코드를 HTML 파일에 추가하면 라이브러리를 로딩하여 사용할 수 있는 상태가 됩니다.</p>

<p>액시오스는 뷰 리소스처럼 HTTP 통신에 대해 간단하고 직관적인 API를 제공합니다. 그리고 API 형식이 다양하여 단순한 호출 이외에도 여러 설정 값을 추가하여 함께 호출할 수 있습니다.</p>

<h3 id="엑시오스-api-형식">엑시오스 API 형식</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//HTTP GET 요청
axios.get('URL 주소').then().catch();
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//HTTP POST 요청
axios.post('URL 주소').then().catch();
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//HTTP 요청에 대한 옵션 속성 정의
axios({
    method: 'get',
    url: 'URL 주소',
    ...
});
</code></pre></div></div>

<hr />

<p><strong>axios.get(‘URL 주소’).then().catch()</strong>: 해당 URL 주소에 대해 HTTP GET 요청을 보냅니다. 서버에서 보낸 데이터를 정상적으로 받아오면 then() 안에 정의한 로직이 실행되고, 데이터를 받아올 때 오류가 발생하면 catch()에 정의한 로직이 수행됩니다.</p>

<p><strong>axios.post(‘URL 주소’).then().catch()</strong>: 해당 URL 주소에 대해 HTTP POST 요청을 보냅니다. then()과 catch()의 동작은 위에서 살펴본 내용과 동일합니다.</p>

<p><strong>axios({ 옵션 속성 })</strong>: HTTP 요청에 대한 자세한 속성들을 직접 정의하여 보낼 수 있습니다. 속성의 대상은 데이터 요청을 보낸 URL, HTTP 요청 방식, 보내는 데이터 유형, 기타 등등 다양합니다.</p>

<hr />

<h3 id="액시오스-데이터">액시오스 데이터</h3>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;html&gt;</span>
    <span class="nt">&lt;head&gt;</span>
        <span class="nt">&lt;title&gt;</span>Vue With Axios Sample<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/head&gt;</span>
    <span class="nt">&lt;body&gt;</span>
        <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">"app"</span><span class="nt">&gt;</span>
            <span class="nt">&lt;button</span> <span class="na">v-on:click=</span><span class="s">"getData"</span><span class="nt">&gt;</span>프레임워크 목록 가져오기<span class="nt">&lt;/button&gt;</span>
        <span class="nt">&lt;/div&gt;</span>

        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdn.jsdelivr.net/npm/vue@2.5.2/dist/vue.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/axios/dist/axios.min.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
        <span class="nt">&lt;script&gt;</span>
            <span class="k">new</span> <span class="nx">Vue</span><span class="p">({</span>
                <span class="na">el</span><span class="p">:</span> <span class="dl">'</span><span class="s1">#app</span><span class="dl">'</span><span class="p">,</span>
                <span class="na">methods</span><span class="p">:</span> <span class="p">{</span>
                    <span class="na">getData</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
                        <span class="nx">axios</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">https://raw.githubusercontent.com/joshua1988/doit-vuejs/master/data/demo.json</span><span class="dl">'</span><span class="p">).</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span> <span class="p">{</span>
                            <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">response</span><span class="p">);</span>
                        <span class="p">});</span>
                    <span class="p">}</span>
                <span class="p">}</span>
            <span class="p">});</span>
        <span class="nt">&lt;/script&gt;</span>
    <span class="nt">&lt;/body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>위 코드는 [프레임워크 목록 가져오기] 버튼을 클릭해서 HTTP GET 요청을 보내고 데이터를 받아와서 로그에 출력합니다.</p>

<p>response 객체를 확인해 보면 data 속성이 일반 문자열 형식이 아니라 객체의 형태이기 때문에 별도로 JSON.parse()를 사용하여 객체로 변환할 필요가 없습니다. 이런 부분들이 뷰 액시오스가 뷰 리소스보다 사용성이 좋다는 것을 증명해 줍니다.</p>

<p>뷰의 HTTP 통신 라이브러리인 뷰 리소스와 액시오스는 간단한 요청에는 별반 차이가 없어보이지만 애플리케이션이 복잡해지면 나타날 수 있는 문제인 Callback Hell 을 해결할 수 있는 방법으로 Promise Pattern 을 기반으로 하고 있는 액시오스를 사용해야 좀더 개발에 유리할 수 있습니다.</p>

<hr />

  </div><a class="u-url" href="/2021/01/14/http.html" hidden></a>
</article>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Web Developer from Vue.js</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Web Developer from Vue.js</li><li><a class="u-email" href="mailto:javascriptvuejs@gmail.com">javascriptvuejs@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/javascriptvuejs"><svg class="svg-icon"><use xlink:href="/assets/minima-social-icons.svg#github"></use></svg> <span class="username">javascriptvuejs</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Vue.js 프레임워크 기술을 포스팅합니다. HTML, CSS, Javascript의 기초를 알면 Vue.js 프레임워크를 익히기에 더욱 좋습니다.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
